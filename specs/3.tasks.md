# Development Tasks Checklist

This document lists the development tasks derived from the design document. All tasks are marked as complete (`[x]`) as they represent the work already implemented in the current source code.

## Public API Layer

- [x] **Task 1:** Define and implement the `Search` trait for `&str` and `String` to provide an idiomatic API for string searching.
- [x] **Task 2:** Define and implement the `SearchBytes` trait for `&[u8]`, `&str`, and `String` for byte-slice searching.
- [x] **Task 3:** Define and implement the generic `SearchIn` and `SearchInBytes` traits to handle various needle types like `&str`, `String`, and `char`.
- [x] **Task 4:** Provide standalone wrapper functions (`string_search`, `string_rsearch`, etc.) for users who prefer a functional style.

## Dispatch and Optimization Layer

- [x] **Task 5:** Implement the central dispatch function `naive_opt_mc_bytes` to select a search algorithm dynamically.
- [x] **Task 6:** Create the `_ASCII_STOCHAS` constant array to store character frequency data for the stochastic analysis.
- [x] **Task 7:** Implement compile-time feature flags (`only_mc_1st`, `only_mc_last`) to allow users to override the dynamic dispatch and force a specific algorithm.

## Algorithm Implementation Layer

- [x] **Task 8:** Implement the `mc_1st` search algorithm, which uses the first byte of the needle as a preliminary check.
- [x] **Task 9:** Implement the `mc_last` search algorithm, which uses the last byte of the needle as a preliminary check.
- [x] **Task 10:** Implement reverse search variants for both `mc_1st` and `mc_last` algorithms.

## Iterator and Case-Insensitive Features

- [x] **Task 11:** Implement the `SearchIndices` and `RevSearchIndices` structs to provide iterators for forward and reverse searches.
- [x] **Task 12:** Ensure all iterator structs correctly implement the `Iterator` trait and manage their internal state to prevent overlapping matches.
- [x] **Task 13:** Implement case-insensitive (`_iac`) versions of all search functions and iterators.
- [x] **Task 14:** Utilize `memchr_dbl_iter` for efficient two-byte searching in case-insensitive algorithms.
- [x] **Task 15:** Use `eq_ignore_ascii_case` for the final comparison step in case-insensitive searches.

## Project and Dependency Management

- [x] **Task 16:** Integrate the `memx` crate as a dependency to leverage its high-performance memory functions.
- [x] **Task 17:** Structure the source code into logical modules (`mc_1st`, `mc_last`) within the `src` directory.
